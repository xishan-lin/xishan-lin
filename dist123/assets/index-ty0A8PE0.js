import{_ as P,P as y,a as b}from"./pdf.worker-D2Xr92nv.js";import{d as f,r as d,o as B,y as S,f as i,g as _,k as R,h as V,F as g,q as C,l as T,s as F}from"./index-Bx2V1Y-J.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";const D={class:"interviewVideo_main",id:"videoContainer"},N=["id"],E={name:"PdfAllViewer"},I=f({...E,setup(u){let l=null,n=d(0),h=d("https://raw.githubusercontent.com/xishan-lin/resourcesRepo/main/genealogy/莆田林氏西山本支族谱(卷一).pdf"),k=d(1.3);B(()=>{m(h.value)});const m=async t=>{P.workerSrc=JSON.stringify(y),b(t).promise.then(e=>{console.log(e),l=e,n.value=e.numPages,S(()=>{p(1)})})},p=t=>{l.getPage(t).then(r=>{const e="pdf-canvas-"+t,a=document.getElementById(e),o=a.getContext("2d"),x=window.devicePixelRatio||1,v=o.webkitBackingStorePixelRatio||o.mozBackingStorePixelRatio||o.msBackingStorePixelRatio||o.oBackingStorePixelRatio||o.backingStorePixelRatio||1,c=x/v,s=r.getViewport({scale:k.value});a.width=s.width*c,a.height=s.height*c,a.style.width=s.width+"px",a.style.height=s.height+"px",a.style.backgroundColor="red",o.setTransform(c,0,0,c,0,0);const w={canvasContext:o,viewport:s};r.render(w),t<n.value&&p(t+1)})};return(t,r)=>(i(),_(g,null,[R(" 我是全卷 "),V("div",D,[(i(!0),_(g,null,C(T(n),e=>(i(),_("canvas",{class:"pdf-canvas",id:"pdf-canvas-"+e,key:e,style:{display:"block"}},null,8,N))),128))])],64))}}),O=A(I,[["__scopeId","data-v-50936e5e"]]),W={name:"PDFAllView"},G=f({...W,setup(u){return(l,n)=>(i(),F(O))}});export{G as default};
