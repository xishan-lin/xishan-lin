import{d as g,r as d,o as h,g as i,l as e,B as p,L as f,t as r,M as w,s as _,f as m,p as j,q as y}from"./index-B-TCadFN.js";import{_ as S}from"./_plugin-vue_export-helper-DlAUqK2U.js";const v=l=>(j("data-v-efc59fd6"),l=l(),y(),l),x={class:"contact-view"},E=v(()=>e("h2",null,"问题反馈",-1)),M={class:"form-group"},V=v(()=>e("label",{for:"subject"},"主题：",-1)),k={class:"form-group"},B=v(()=>e("label",{for:"message"},"反馈内容：",-1)),C=["disabled"],I={key:0,class:"success-msg"},q={key:1,class:"error-msg"},T=g({__name:"ContactView",setup(l){const s=d({subject:"",message:""}),t=d(!1),c=d(""),o=d("");h(()=>{if(!window.Email){console.log("加载smtp.js");const a=document.createElement("script");a.src="/smtp.js",a.onload=()=>{},document.body.appendChild(a)}});function b(){c.value="",o.value="",t.value=!0,window.Email?window.Email.send({SecureToken:"512ab385-1139-429d-a92f-0ee6efbef4d7",To:"15151963160@163.com",From:"15151963160@163.com",Subject:s.value.subject,Body:`内容：${s.value.message}`}).then(a=>{t.value=!1,a==="OK"?(c.value="反馈已成功发送，感谢您的支持！",s.value.subject="",s.value.message=""):o.value="发送失败，请稍后重试。"}).catch(()=>{t.value=!1,o.value="发送失败，请检查网络或稍后重试。"}):(t.value=!1,o.value="邮件服务未加载，请刷新页面重试。")}return(a,u)=>(m(),i("div",x,[E,e("form",{onSubmit:w(b,["prevent"])},[e("div",M,[V,p(e("input",{"onUpdate:modelValue":u[0]||(u[0]=n=>s.value.subject=n),id:"subject",type:"text",required:"",placeholder:"请输入主题"},null,512),[[f,s.value.subject]])]),e("div",k,[B,p(e("textarea",{"onUpdate:modelValue":u[1]||(u[1]=n=>s.value.message=n),id:"message",required:"",placeholder:"请输入您的问题或建议"},null,512),[[f,s.value.message]])]),e("button",{type:"submit",disabled:t.value},r(t.value?"发送中...":"发送反馈"),9,C)],32),c.value?(m(),i("div",I,r(c.value),1)):_("",!0),o.value?(m(),i("div",q,r(o.value),1)):_("",!0)]))}}),U=S(T,[["__scopeId","data-v-efc59fd6"]]);export{U as default};
