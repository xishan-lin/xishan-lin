import{d as y,u as V,N as x,r as g,g as n,l as s,B as l,L as u,t as i,s as p,O as P,j as h,p as $,q as R,f as a}from"./index-B-TCadFN.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";const d=f=>($("data-v-fad076dd"),f=f(),R(),f),I={class:"register-container"},U={class:"register-box"},B=d(()=>s("h1",{class:"register-title"},"用户注册",-1)),S={class:"form-container"},j={class:"form-group"},N=d(()=>s("label",{for:"username"},"用户名",-1)),T={key:0,class:"error-message"},E={class:"form-group"},D=d(()=>s("label",{for:"password"},"密码",-1)),L={key:0,class:"error-message"},M={class:"form-group"},O=d(()=>s("label",{for:"confirm-password"},"确认密码",-1)),q={key:0,class:"error-message"},z={class:"form-group"},A=d(()=>s("label",{for:"phone"},"手机号",-1)),G={key:0,class:"error-message"},H={class:"form-group"},J=d(()=>s("label",{for:"verification-code"},"验证码",-1)),K={class:"verification-code-container"},Q=["disabled"],W={key:0,class:"error-message"},X={class:"form-agreement"},Y=d(()=>s("label",{for:"agree"},[h("我已阅读并同意"),s("a",{href:"javascript:void(0)"},"服务条款"),h("和"),s("a",{href:"javascript:void(0)"},"隐私政策")],-1)),Z={key:0,class:"error-message"},ee=y({name:"PcRegisterView",__name:"index",setup(f){const _=V(),r=x({username:"",password:"",confirmPassword:"",phone:"",verificationCode:"",agree:!1}),e=x({username:"",password:"",confirmPassword:"",phone:"",verificationCode:"",agree:""}),v=g(!1),c=g(60),m=g("获取验证码"),C=()=>{if(!r.phone.trim()){e.phone="请输入手机号";return}if(!/^1[3-9]\d{9}$/.test(r.phone)){e.phone="请输入正确的手机号";return}v.value=!0,c.value=60,m.value=`${c.value}秒后重新获取`,console.log("向手机号发送验证码：",r.phone);const o=setInterval(()=>{c.value--,m.value=`${c.value}秒后重新获取`,c.value<=0&&(clearInterval(o),v.value=!1,m.value="获取验证码")},1e3)},b=()=>{if(Object.keys(e).forEach(o=>{e[o]=""}),!r.username.trim()){e.username="请输入用户名";return}if(!r.password.trim()){e.password="请输入密码";return}if(r.password.length<6){e.password="密码长度不能少于6位";return}if(r.password!==r.confirmPassword){e.confirmPassword="两次输入的密码不一致";return}if(!r.phone.trim()){e.phone="请输入手机号";return}if(!/^1[3-9]\d{9}$/.test(r.phone)){e.phone="请输入正确的手机号";return}if(!r.verificationCode.trim()){e.verificationCode="请输入验证码";return}if(!r.agree){e.agree="请同意服务条款和隐私政策";return}console.log("用户注册信息：",r),_.push("/p/login")},k=()=>{_.push("/p/login")};return(w,o)=>(a(),n("div",I,[s("div",U,[B,s("div",S,[s("div",j,[N,l(s("input",{type:"text",id:"username","onUpdate:modelValue":o[0]||(o[0]=t=>r.username=t),placeholder:"请输入用户名",onFocus:o[1]||(o[1]=t=>e.username="")},null,544),[[u,r.username]]),e.username?(a(),n("div",T,i(e.username),1)):p("",!0)]),s("div",E,[D,l(s("input",{type:"password",id:"password","onUpdate:modelValue":o[2]||(o[2]=t=>r.password=t),placeholder:"请输入密码",onFocus:o[3]||(o[3]=t=>e.password="")},null,544),[[u,r.password]]),e.password?(a(),n("div",L,i(e.password),1)):p("",!0)]),s("div",M,[O,l(s("input",{type:"password",id:"confirm-password","onUpdate:modelValue":o[4]||(o[4]=t=>r.confirmPassword=t),placeholder:"请再次输入密码",onFocus:o[5]||(o[5]=t=>e.confirmPassword="")},null,544),[[u,r.confirmPassword]]),e.confirmPassword?(a(),n("div",q,i(e.confirmPassword),1)):p("",!0)]),s("div",z,[A,l(s("input",{type:"text",id:"phone","onUpdate:modelValue":o[6]||(o[6]=t=>r.phone=t),placeholder:"请输入手机号",onFocus:o[7]||(o[7]=t=>e.phone="")},null,544),[[u,r.phone]]),e.phone?(a(),n("div",G,i(e.phone),1)):p("",!0)]),s("div",H,[J,s("div",K,[l(s("input",{type:"text",id:"verification-code","onUpdate:modelValue":o[8]||(o[8]=t=>r.verificationCode=t),placeholder:"请输入验证码",onFocus:o[9]||(o[9]=t=>e.verificationCode="")},null,544),[[u,r.verificationCode]]),s("button",{class:"verification-code-button",disabled:v.value,onClick:C},i(m.value),9,Q)]),e.verificationCode?(a(),n("div",W,i(e.verificationCode),1)):p("",!0)]),s("div",X,[l(s("input",{type:"checkbox",id:"agree","onUpdate:modelValue":o[10]||(o[10]=t=>r.agree=t),onChange:o[11]||(o[11]=t=>e.agree="")},null,544),[[P,r.agree]]),Y,e.agree?(a(),n("div",Z,i(e.agree),1)):p("",!0)]),s("button",{class:"register-button",onClick:b},"注册")]),s("div",{class:"login-link"},[h(" 已有账号？"),s("a",{onClick:k},"立即登录")])])]))}}),re=F(ee,[["__scopeId","data-v-fad076dd"]]);export{re as default};
